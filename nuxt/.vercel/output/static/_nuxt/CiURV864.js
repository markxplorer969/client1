import{d,u,k as g,r as m,l as p,h as _,c as o,b as t,j as k,t as v,p as f,o as s}from"./a6n2H657.js";import{u as h}from"./TrFBJUAx.js";const y={class:"d-flex align-items-center justify-content-center"},b={class:"container"},w={class:"row justify-content-center"},x={class:"col-12 col-md-8 col-lg-5"},S={class:"content-card"},B={class:"card-body p-4 p-md-5"},I={key:0,class:"alert alert-danger text-center mb-4"},E=d({__name:"login",setup(j){u({title:"Login"});const i=_(),{setAuth:l}=h(),{$api:c}=g(),a=m(""),r=async n=>{try{const e=await c("/api/v1/login",{method:"POST",body:{token:n.credential}});e.status?(l({token:e.data.token,type:e.data.type}),f("/dashboard")):a.value=e.msg||"Terjadi galat saat mencoba masuk."}catch(e){console.error("Login Error:",e),a.value=e.message||"Tidak dapat terhubung ke server."}};return p(()=>{if(typeof window.google>"u"){a.value="Gagal memuat layanan Google. Silakan segarkan halaman.";return}try{window.google.accounts.id.initialize({client_id:i.public.googleClientId,callback:r}),window.google.accounts.id.renderButton(document.getElementById("googleSignInBtn"),{theme:"outline",size:"large"})}catch(n){console.error("Google Sign-In Init Error:",n),a.value="Gagal menginisialisasi Google Sign-In."}}),(n,e)=>(s(),o("div",y,[t("div",b,[t("div",w,[t("div",x,[e[1]||(e[1]=t("div",{class:"text-center mb-4"},[t("h1",{class:"main-title mb-1"},"Selamat Datang"),t("p",{class:"text-secondary"},"Masuk untuk melakukan pembelian produk")],-1)),t("div",S,[t("div",B,[a.value?(s(),o("div",I,v(a.value),1)):k("",!0),e[0]||(e[0]=t("div",{id:"googleSignInBtn",class:"d-flex justify-content-center"},null,-1))])])])])])]))}});export{E as default};
