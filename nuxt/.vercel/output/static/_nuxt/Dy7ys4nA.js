import{M as j,_ as E}from"./3urowaeH.js";import{d as w,k as F,C as R,r,l as V,x as D,s as O,c as l,A as H,o as n,b as e,B as U,v as z,t as c,j as b,F as $,m as A,f as I,n as P,g as G,u as Q,e as y}from"./a6n2H657.js";import{f as S}from"./Dh1ThmVH.js";import{_ as Y}from"./BnKuCT72.js";const J={key:0,class:"d-flex justify-content-center align-items-center py-5"},K={key:2},W={class:"row row-cols-1 row-cols-md-2 g-4"},X={class:"content-card d-flex flex-column h-100 product-item-card position-relative"},Z={key:0,class:"product-badge"},ee=["src","alt"],ae={class:"p-3 d-flex flex-column flex-grow-1"},se={class:"mb-2 product-name"},te={class:"d-flex align-items-baseline gap-2 mb-3"},ne={class:"product-price fw-bold"},oe={key:0,class:"original-price text-secondary"},le={class:"small text-secondary flex-grow-1 product-description"},ie={class:"mt-auto"},re=["onClick"],ce={key:0},de={key:3,class:"content-card text-center p-5"},x=2,ue=w({__name:"ProductList",setup(C){const d=new j,{$api:g}=F(),u=R(),s=r([]),i=r([]),k=r(!0),_=r(!1),p=r(null),m=r(!1),h=r(null);let v;const T=()=>{_.value||(_.value=!0,setTimeout(()=>{const a=i.value.length,o=s.value.slice(a,a+x);i.value.push(...o),i.value.length>=s.value.length&&(m.value=!1),_.value=!1},300))},L=()=>{v=new IntersectionObserver(a=>{const[o]=a;o.isIntersecting&&T()},{threshold:.1}),h.value&&v.observe(h.value)},M=(a,o=120)=>{if(!a)return"";const t=d.render(a).replace(/<[^>]*>?/gm,"");if(t.length<=o)return t;const f=t.substring(0,o),B=f.lastIndexOf(" ");return(B>0?f.substring(0,B):f)+"..."},N=a=>{u.push(`/product/${a}`)};return V(async()=>{k.value=!0,p.value=null;try{const a=await g("/api/v1/products");if(a&&a.data)s.value=a.data,i.value=s.value.slice(0,x),s.value.length>x&&(m.value=!0);else throw new Error(a.msg||"Gagal mengambil data produk.")}catch(a){p.value=a.message||"Terjadi kesalahan saat memuat produk."}finally{k.value=!1}}),D(h,a=>{a&&m.value&&L()}),O(()=>{v&&v.disconnect()}),(a,o)=>{const q=E;return k.value?(n(),l("div",J,o[0]||(o[0]=[e("div",{class:"spinner-border product-loader-spinner",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),e("p",{class:"ms-3 mb-0"},"Loading...",-1)]))):p.value?(n(),H(q,{key:1,type:"danger"},{default:U(()=>[z(c(p.value),1)]),_:1})):i.value.length>0?(n(),l("div",K,[e("div",W,[(n(!0),l($,null,A(i.value,t=>(n(),l("div",{key:t._id,class:"col"},[e("div",X,[t.label?(n(),l("div",Z,c(t.label),1)):b("",!0),e("img",{src:t.imageUrl||"https://via.placeholder.com/400x400.png?text=Produk",class:"product-image",alt:t.name},null,8,ee),e("div",ae,[e("h5",se,c(t.name),1),e("div",te,[e("span",ne,c(I(S)(t.price)),1),t.original_price?(n(),l("span",oe,c(I(S)(t.original_price)),1)):b("",!0)]),e("p",le,c(M(t.description,120)),1),e("div",ie,[e("button",{onClick:f=>N(t._id),class:"btn btn-custom-accent w-100"}," Lihat Detail Produk ",8,re)])])])]))),128))]),m.value?(n(),l("div",{key:0,ref_key:"loaderRef",ref:h,class:"text-center py-5"},[_.value?(n(),l("div",ce,o[1]||(o[1]=[e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1)]))):b("",!0)],512)):b("",!0)])):(n(),l("div",de,o[2]||(o[2]=[e("p",null,"Tidak ada produk yang dapat ditampilkan saat ini.",-1)])))}}}),_e={class:"accordion",id:"faqAccordion"},pe=["id"],me=["data-bs-target","aria-expanded","aria-controls"],he=["id","aria-labelledby"],ve={class:"accordion-body"},fe=w({__name:"FaqSection",setup(C){const d=r([{id:1,question:"Bagaimana cara membeli produk?",answer:'Sebelum membeli produk baca deskripsi terlebih dahulu, pembelian cukup dengan mengklik tombol "Beli" dan ikuti instruksi di layar kemudian setelah selesai membayar dan terjadi kendala silahkan hub. admin.'},{id:2,question:"Apakah pembayaran di cek otomatis?",answer:"Ya, pembayaran dicek otomatis oleh sistem jadi pastikan tidak keluar dari halaman invoice."},{id:3,question:"Metode pembayaran apa yang digunakan?",answer:"Pembayaran melalui QRIS karena lebih fleksibel melakukan pembayaran lewat manapun baik itu bank maupun e-wallet."}]);return(g,u)=>(n(),l("div",_e,[(n(!0),l($,null,A(d.value,(s,i)=>(n(),l("div",{key:s.id,class:"accordion-item"},[e("h2",{class:"accordion-header",id:"heading"+s.id},[e("button",{class:P(["accordion-button",{collapsed:i!==0}]),type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+s.id,"aria-expanded":i===0,"aria-controls":"collapse"+s.id},c(s.question),11,me)],8,pe),e("div",{id:"collapse"+s.id,class:P(["accordion-collapse collapse",{show:i===0}]),"aria-labelledby":"heading"+s.id,"data-bs-parent":"#faqAccordion"},[e("div",ve,c(s.answer),1)],10,he)]))),128))]))}}),be=G(fe,[["__scopeId","data-v-06b2c210"]]),ge={class:"container px-3 mb-4"},ke={class:"row g-4"},ye={class:"col-lg-8"},xe={class:"col-lg-4 faq-sidebar"},Be=w({__name:"index",setup(C){return Q({title:"Daftar Produk"}),(d,g)=>{const u=ue,s=be,i=Y;return n(),l($,null,[e("div",ge,[e("div",ke,[e("div",ye,[y(u)]),e("div",xe,[y(s)])])]),y(i)],64)}}});export{Be as default};
