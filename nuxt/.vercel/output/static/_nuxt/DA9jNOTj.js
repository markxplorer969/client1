import{d as b,c as n,o,b as t,t as d,f as g,h as k,w as x,g as $,i as y,j as f,k as w,u as C,r as u,l as L,e as p,F as S,m as H}from"./a6n2H657.js";import{_ as M}from"./BnKuCT72.js";const N={class:"hero-section text-white text-center"},P={class:"container"},B={class:"display-4 fw-bold"},D={class:"lead"},T=b({__name:"HeroSection",setup(s){const i=k();return(r,c)=>(o(),n("header",N,[t("div",P,[t("h1",B,d(g(i).public.hero.title),1),t("p",D,d(g(i).public.hero.highlight),1),t("a",{onClick:c[0]||(c[0]=x(l=>r.$router.push("/products"),["prevent"])),class:"btn btn-light btn-lg mt-3"},"Lihat Semua Produk")])]))}}),U=$(T,[["__scopeId","data-v-3ffa9976"]]),E={class:"content-card product-item-card h-100 d-flex flex-column"},F={class:"position-relative"},I=["src","alt"],R={key:0,class:"product-badge"},V={class:"card-body d-flex flex-column flex-grow-1 p-3"},j={class:"product-name fw-bold"},A=["innerHTML"],G={class:"mt-auto"},q={class:"mb-3"},O={class:"product-price fw-bold"},z={key:0,class:"original-price ms-2"},J={__name:"ProductCard",props:{product:{type:Object,required:!0}},setup(s){const i=s,r=a=>a?Number(a).toLocaleString("id-ID"):"0",c=y(()=>i.product.description?i.product.description.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/(\r\n|\n)/g,"<br>"):""),l=a=>{a.target.src="https://via.placeholder.com/400?text=Gambar+Tidak+Tersedia"};return(a,e)=>(o(),n("div",E,[t("div",F,[t("img",{src:s.product.imageUrl,class:"product-image",alt:s.product.name,onError:l},null,40,I),s.product.label?(o(),n("span",R,d(s.product.label),1)):f("",!0)]),t("div",V,[t("h5",j,d(s.product.name),1),t("div",{class:"product-description text-secondary small my-3",innerHTML:c.value},null,8,A),t("div",G,[t("div",q,[t("span",O,"Rp "+d(r(s.product.price)),1),s.product.original_price?(o(),n("span",z," Rp "+d(r(s.product.original_price)),1)):f("",!0)]),t("a",{class:"btn btn-custom-accent w-100",onClick:e[0]||(e[0]=m=>a.$router.push("/product/"+s.product.id))}," Lihat Detail ")])])]))}},K={id:"featured-products",class:"container my-5"},Q={key:0,class:"text-center"},W={key:1,class:"alert alert-danger text-center"},X={key:2,class:"row g-4"},Y={key:3,class:"text-center"},et={__name:"index",setup(s){const{$api:i}=w();C({title:"Beranda"});const r=u([]),c=u(!0),l=u(null);return L(async()=>{c.value=!0,l.value=null;try{const a=await i("/api/v1/top-products");r.value=a.data.map(e=>({id:e._id,name:e.name,price:e.price,imageUrl:e.imageUrl,sales:e.sales}))}catch{l.value="Gagal memuat produk unggulan"}finally{c.value=!1}}),(a,e)=>{const m=U,h=J,v=M;return o(),n("div",null,[t("main",null,[p(m),t("section",K,[e[3]||(e[3]=t("h2",{class:"text-center fw-bold mb-5"},"Produk Unggulan",-1)),c.value?(o(),n("div",Q,e[0]||(e[0]=[t("p",null,"Loading...",-1)]))):l.value?(o(),n("div",W,e[1]||(e[1]=[t("p",null,"Maaf, gagal memuat produk unggulan. Silakan coba lagi nanti.",-1)]))):r.value.length?(o(),n("div",X,[(o(!0),n(S,null,H(r.value,_=>(o(),n("div",{key:_.id,class:"col-md-6 col-lg-3"},[p(h,{product:_},null,8,["product"])]))),128))])):(o(),n("div",Y,e[2]||(e[2]=[t("p",null,"Saat ini belum ada produk unggulan.",-1)])))])]),p(v)])}}};export{et as default};
